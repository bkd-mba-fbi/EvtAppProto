{"version":3,"file":"src_app_substitutions_substitutions_module_ts.js","mappings":"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","sources":["./src/app/auth.admin.guard.ts","./src/app/substitutions/components/page-admin-substitution-create/page-admin-substitution-create.component.ts","./src/app/substitutions/components/page-admin-substitution-create/page-admin-substitution-create.component.html","./src/app/substitutions/components/page-admin-substitution-edit/page-admin-substitution-edit.component.ts","./src/app/substitutions/components/page-admin-substitution-edit/page-admin-substitution-edit.component.html","./src/app/substitutions/components/page-admin-substitution-list/page-admin-substitution-list.component.ts","./src/app/substitutions/components/page-admin-substitution-list/page-admin-substitution-list.component.html","./src/app/substitutions/components/page-substitution-create/page-substitution-create.component.ts","./src/app/substitutions/components/page-substitution-create/page-substitution-create.component.html","./src/app/substitutions/components/page-substitution-edit/page-substitution-edit.component.ts","./src/app/substitutions/components/page-substitution-edit/page-substitution-edit.component.html","./src/app/substitutions/components/page-substitution-list-current/page-substitution-list-current.component.ts","./src/app/substitutions/components/page-substitution-list-current/page-substitution-list-current.component.html","./src/app/substitutions/components/page-substitution-list/page-substitution-list.component.ts","./src/app/substitutions/components/page-substitution-list/page-substitution-list.component.html","./src/app/substitutions/components/substitution-create/substitution-create.component.ts","./src/app/substitutions/components/substitution-create/substitution-create.component.html","./src/app/substitutions/components/substitution-edit/substitution-edit.component.ts","./src/app/substitutions/components/substitution-edit/substitution-edit.component.html","./src/app/substitutions/components/substitution-list-admin/substitution-list-admin.component.ts","./src/app/substitutions/components/substitution-list-admin/substitution-list-admin.component.html","./src/app/substitutions/components/substitution-list-current/substitution-list-current.component.ts","./src/app/substitutions/components/substitution-list-current/substitution-list-current.component.html","./src/app/substitutions/components/substitution-list/substitution-list.component.ts","./src/app/substitutions/components/substitution-list/substitution-list.component.html","./src/app/substitutions/substitutions-routing.ts","./src/app/substitutions/substitutions.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport {\r\n  CanActivate,\r\n  ActivatedRouteSnapshot,\r\n  RouterStateSnapshot,\r\n  UrlTree,\r\n  Router,\r\n} from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { AuthService, SUBSTITUTE_ADMINISTRATOR_ROLE } from './shared/services/auth.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthAdminGuard implements CanActivate {\r\n  constructor(private router: Router, private auth: AuthService) {}\r\n\r\n  canActivate(\r\n    next: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ):\r\n    | Observable<boolean | UrlTree>\r\n    | Promise<boolean | UrlTree>\r\n    | boolean\r\n    | UrlTree {\r\n    \r\n    if (this.auth.isAuthenticated && this.auth.hasRole(SUBSTITUTE_ADMINISTRATOR_ROLE)) {\r\n      return true;\r\n    } else {\r\n      this.router.navigate(['/unauthenticated']);\r\n      return false;\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, OnChanges, SimpleChanges, EventEmitter, ChangeDetectorRef } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\nimport { Observable, combineLatest, BehaviorSubject } from 'rxjs';\nimport { map, combineAll, switchMap, tap, delay, share } from 'rxjs/operators';\nimport { TeacherSubstitution } from 'src/app/shared/models/teacher-substitution.model';\nimport { AuthService } from 'src/app/shared/services/auth.service';\nimport { TeacherSubstitutionService } from 'src/app/shared/services/teacher-substitution.service';\n\n@Component({\n  selector: 'erz-page-admin-substitution-create',\n  templateUrl: './page-admin-substitution-create.component.html',\n  styleUrls: ['./page-admin-substitution-create.component.scss']\n})\nexport class PageAdminSubstitutionCreateComponent implements OnInit {\n\n  settings: any;\n\n  constructor(\n    public route: ActivatedRoute,\n    public router: Router,\n    public teacherSubstitutionService: TeacherSubstitutionService,\n    public changeDetector: ChangeDetectorRef,\n    public authService: AuthService\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  navigateToList():void {\n    this.router.navigate(['/substitutions/admin']);\n  }\n}\n","<div class=\"erz-container-limited\">\n    <erz-substitution-create (cancel)=\"navigateToList()\" (save)=\"navigateToList()\"></erz-substitution-create>\n</div>","import { Component, OnInit, Input, Output, OnChanges, SimpleChanges, EventEmitter, ChangeDetectorRef } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\nimport { Observable, combineLatest, BehaviorSubject } from 'rxjs';\nimport { map, combineAll, switchMap, tap, delay, share } from 'rxjs/operators';\nimport { TeacherSubstitution } from 'src/app/shared/models/teacher-substitution.model';\nimport { TeacherSubstitutionService } from 'src/app/shared/services/teacher-substitution.service';\n\n@Component({\n  selector: 'erz-page-admin-substitution-edit',\n  templateUrl: './page-admin-substitution-edit.component.html',\n  styleUrls: ['./page-admin-substitution-edit.component.scss']\n})\nexport class PageAdminSubstitutionEditComponent implements OnInit {\n\n  isLoading:Boolean = true;\n  settings: any;\n  substitution$:Observable<Option<TeacherSubstitution>>;\n\n  constructor(\n    public route: ActivatedRoute,\n    public router: Router,\n    public teacherSubstitutionService: TeacherSubstitutionService,\n    public changeDetector: ChangeDetectorRef\n  ) { }\n\n  ngOnInit(): void {\n    this.substitution$ = this.route.paramMap.pipe(\n      tap(v => {\n        this.isLoading = true;\n        this.changeDetector.markForCheck();\n      }),\n      //delay(100),\n      map(v => v.get('id')),\n      map(v => parseInt(v as string)),\n      switchMap(id => this.teacherSubstitutionService.get(id)),\n      tap(v => {\n        this.isLoading = false;\n        this.changeDetector.markForCheck();\n      }),\n      share()\n    );\n    this.substitution$.subscribe(v => null);\n  }\n\n  navigateToList():void {\n    this.router.navigate(['/substitutions/admin']);\n  }\n}\n","<div *ngIf=\"isLoading\">\n    <erz-spinner></erz-spinner>\n</div>\n<div class=\"erz-container-limited\">\n    <erz-substitution-edit \n        [style.display]=\"isLoading ? 'none' : 'block'\" \n        [substitution]=\"substitution$ | async\" \n        [show-holder]=\"true\"\n        (save)=\"navigateToList()\"\n        (cancel)=\"navigateToList()\"\n        (delete)=\"navigateToList()\"\n    ></erz-substitution-edit>\n</div>","import { Component, OnInit, Input, Output, OnChanges, SimpleChanges, EventEmitter, ChangeDetectorRef } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\nimport { Observable, combineLatest, BehaviorSubject } from 'rxjs';\nimport { map, combineAll, switchMap, tap, delay, share, take } from 'rxjs/operators';\nimport { TeacherSubstitution } from 'src/app/shared/models/teacher-substitution.model';\nimport { AuthService } from 'src/app/shared/services/auth.service';\nimport { TeacherSubstitutionService } from 'src/app/shared/services/teacher-substitution.service';\n\n@Component({\n  selector: 'erz-page-admin-substitution-list',\n  templateUrl: './page-admin-substitution-list.component.html',\n  styleUrls: ['./page-admin-substitution-list.component.scss']\n})\nexport class PageAdminSubstitutionListComponent implements OnInit {\n\n  constructor(\n    public route: ActivatedRoute,\n    public authService: AuthService,\n    public router: Router,\n    public teacherSubstitutionService: TeacherSubstitutionService,\n    public changeDetector: ChangeDetectorRef\n  ) { }\n\n  searchString:string;\n  editLink:(a:string) => string[] = v => ['admin', 'edit', v];\n  sortColumn:Option<string>;\n  sortDirection:boolean;\n\n  sortBy(column:string) {\n    this.sortColumn = column;\n    this.changeDetector.markForCheck();\n  }\n\n  ngOnInit(): void {\n  }\n}\n","<erz-substitution-list-admin \n    [filter]=\"searchString\" \n    [sort-column]=\"sortColumn\" \n    [substitutions$]=\"teacherSubstitutionService.getAdminList()\" \n    [edit-link]=\"editLink\"\n></erz-substitution-list-admin>\n","import { Component, OnInit, Input, Output, OnChanges, SimpleChanges, EventEmitter, ChangeDetectorRef } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\nimport { Observable, combineLatest, BehaviorSubject } from 'rxjs';\nimport { map, combineAll, switchMap, tap, delay, share } from 'rxjs/operators';\nimport { TeacherSubstitution } from 'src/app/shared/models/teacher-substitution.model';\nimport { AuthService } from 'src/app/shared/services/auth.service';\nimport { TeacherSubstitutionService } from 'src/app/shared/services/teacher-substitution.service';\n\n@Component({\n  selector: 'erz-page-substitution-create',\n  templateUrl: './page-substitution-create.component.html',\n  styleUrls: ['./page-substitution-create.component.scss']\n})\nexport class PageSubstitutionCreateComponent implements OnInit {\n\n  settings: any;\n\n  constructor(\n    public route: ActivatedRoute,\n    public router: Router,\n    public teacherSubstitutionService: TeacherSubstitutionService,\n    public changeDetector: ChangeDetectorRef,\n    public authService: AuthService\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  navigateToList():void {\n    this.router.navigate(['/substitutions/assign']);\n  }\n}\n","<div class=\"erz-container-limited\">\n    <erz-substitution-create \n        [holderId]=\"authService.personId\" \n        (cancel)=\"navigateToList()\" \n        (save)=\"navigateToList()\"\n    ></erz-substitution-create>\n</div>","import { Component, OnInit, Input, Output, OnChanges, SimpleChanges, EventEmitter, ChangeDetectorRef } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\nimport { Observable, combineLatest, BehaviorSubject } from 'rxjs';\nimport { map, combineAll, switchMap, tap, delay, share } from 'rxjs/operators';\nimport { TeacherSubstitution } from 'src/app/shared/models/teacher-substitution.model';\nimport { TeacherSubstitutionService } from 'src/app/shared/services/teacher-substitution.service';\n\n@Component({\n  selector: 'erz-page-substitution-edit',\n  templateUrl: './page-substitution-edit.component.html',\n  styleUrls: ['./page-substitution-edit.component.scss']\n})\nexport class PageSubstitutionEditComponent implements OnInit {\n\n  isLoading:Boolean = true;\n  settings: any;\n  substitution$:Observable<Option<TeacherSubstitution>>;\n\n  constructor(\n    public route: ActivatedRoute,\n    public router: Router,\n    public teacherSubstitutionService: TeacherSubstitutionService,\n    public changeDetector: ChangeDetectorRef\n  ) { }\n\n  ngOnInit(): void {\n    this.substitution$ = this.route.paramMap.pipe(\n      tap(v => {\n        this.isLoading = true;\n        this.changeDetector.markForCheck();\n      }),\n      //delay(100),\n      map(v => v.get('id')),\n      map(v => parseInt(v as string)),\n      switchMap(id => this.teacherSubstitutionService.get(id)),\n      tap(v => {\n        this.isLoading = false;\n        this.changeDetector.markForCheck();\n      }),\n      share()\n    );\n    this.substitution$.subscribe(v => null);\n  }\n\n  navigateToList():void {\n    this.router.navigate(['/substitutions/assign']);\n  }\n}\n","<div *ngIf=\"isLoading\">\n    <erz-spinner></erz-spinner>\n</div>\n<div class=\"erz-container-limited\">\n    <erz-substitution-edit \n        [style.display]=\"isLoading ? 'none' : 'block'\" \n        [substitution]=\"substitution$ | async\" \n        (save)=\"navigateToList()\"\n        (cancel)=\"navigateToList()\"\n        (delete)=\"navigateToList()\"\n    ></erz-substitution-edit>\n</div>","import { Component, OnInit, Input, Output, OnChanges, SimpleChanges, EventEmitter, ChangeDetectorRef } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\nimport { Observable, combineLatest, BehaviorSubject } from 'rxjs';\nimport { map, combineAll, switchMap, tap, delay, share } from 'rxjs/operators';\nimport { TeacherSubstitution } from 'src/app/shared/models/teacher-substitution.model';\nimport { TeacherSubstitutionService } from 'src/app/shared/services/teacher-substitution.service';\n\n@Component({\n  selector: 'erz-page-substitution-list-current',\n  templateUrl: './page-substitution-list-current.component.html',\n  styleUrls: ['./page-substitution-list-current.component.scss']\n})\nexport class PageSubstitutionListCurrentComponent implements OnInit {\n\n  isLoading:Boolean = true;\n  settings: any;\n  substitution$:Observable<Option<TeacherSubstitution>>;\n\n  constructor(\n    public route: ActivatedRoute,\n    public router: Router,\n    public teacherSubstitutionService: TeacherSubstitutionService,\n    public changeDetector: ChangeDetectorRef\n  ) { }\n\n  ngOnInit(): void {\n  }\n}\n","<erz-substitution-list-current></erz-substitution-list-current>\n","import { Component, OnInit, Input, Output, OnChanges, SimpleChanges, EventEmitter, ChangeDetectorRef } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\nimport { Observable, combineLatest, BehaviorSubject } from 'rxjs';\nimport { map, combineAll, switchMap, tap, delay, share } from 'rxjs/operators';\nimport { TeacherSubstitution } from 'src/app/shared/models/teacher-substitution.model';\nimport { AuthService } from 'src/app/shared/services/auth.service';\nimport { TeacherSubstitutionService } from 'src/app/shared/services/teacher-substitution.service';\n\n@Component({\n  selector: 'erz-page-substitution-list',\n  templateUrl: './page-substitution-list.component.html',\n  styleUrls: ['./page-substitution-list.component.scss']\n})\nexport class PageSubstitutionListComponent implements OnInit {\n\n  constructor(\n    public route: ActivatedRoute,\n    public authService: AuthService,\n    public router: Router,\n    //public location: Location,\n    public teacherSubstitutionService: TeacherSubstitutionService,\n    public changeDetector: ChangeDetectorRef\n  ) { }\n\n  ngOnInit(): void {\n  }\n}\n","<div class=\"bootstrap container-fluid mt-2\">\n    <div class=\"bootstrap row row-bottom-divider\">\n        <div class=\"bootstrap col pb-2 overflow-hidden\">\n            <div class=\"float-end ms-1 mb-1\">\n                <a class=\"btn btn-primary\" [routerLink]=\"['create']\"><i class=\"material-icons\">add</i></a>\n            </div>\n            {{'page-substitution-list.title-message' | translate}}\n        </div>\n    </div>\n</div>\n<erz-substitution-list [substitutions$]=\"teacherSubstitutionService.getMyList()\" [empty-message]=\"'page-substitution-list.empty-message' | translate\"></erz-substitution-list>","import { Component, OnInit, Input, Output, OnChanges, SimpleChanges, EventEmitter, ChangeDetectorRef } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { BehaviorSubject, combineLatest, Observable } from 'rxjs';\nimport { map, startWith, tap } from 'rxjs/operators';\nimport { TeacherSubstitution } from 'src/app/shared/models/teacher-substitution.model';\nimport { AuthService } from 'src/app/shared/services/auth.service';\nimport { TeacherSubstitutionService } from 'src/app/shared/services/teacher-substitution.service';\n\n@Component({\n  selector: 'erz-substitution-create',\n  templateUrl: './substitution-create.component.html',\n  styleUrls: ['./substitution-create.component.scss']\n})\nexport class SubstitutionCreateComponent implements OnInit, OnChanges {\n\n  settings: any;\n  @Input('holderId') holderIdInput:Option<Number>;\n  @Input() substitution:Option<TeacherSubstitution>;\n  @Output('cancel') cancelled = new EventEmitter<void>();\n  @Output('save') saved = new EventEmitter<void>();\n\n  dateFrom = new FormControl(null, Validators.required);\n  dateTo = new FormControl(null, Validators.required);\n  remarks = new FormControl();\n  holderId = new FormControl(null, Validators.required);\n  substituteId = new FormControl(null, Validators.required);\n\n  errorMessage$:Observable<Option<ReadonlyArray<string>>>;\n  serverErrorMessage$ = new BehaviorSubject<Option<ReadonlyArray<string>>>(null);\n  clientErrorMessage$:Observable<Option<ReadonlyArray<string>>>;\n\n  form:FormGroup;\n  showErrors:boolean = false;\n  savingActive$:BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  minStartDate:Date = new Date(Date.now());\n\n  constructor(\n    public teacherSubstitutionService: TeacherSubstitutionService,\n    public authService: AuthService,\n    private translateService: TranslateService,\n    public changeDetector: ChangeDetectorRef,\n    private toastr: ToastrService\n  ) {\n    this.saved.subscribe(() => toastr.success(translateService.instant(\"substitution-create.save-success-message\")));\n  }\n\n  submit():void {\n    if (!this.form.valid) {\n      this.showErrors = true;\n      return;\n    }\n\n    this.savingActive$.next(true);\n\n    this.teacherSubstitutionService.create(\n      this.holderId.value, \n      this.substituteId.value, \n      this.dateFrom.value, \n      this.dateTo.value,\n      this.remarks.value\n    ).subscribe(\n      v => {\n        this.savingActive$.next(false);\n        this.saved.emit();\n      },\n      err => { \n        this.savingActive$.next(false);\n        this.showErrors = true;\n\n        this.serverErrorMessage$.next(err.Issues.map((v:any) => v.Message as string));\n      }\n    );\n  }\n  cancel():void {\n    this.cancelled.emit();\n  }\n\n  ngOnInit(): void {\n    //this.holderId.setValue(this.authService.personId);\n    this.holderId.setValue(this.holderIdInput);\n\n    this.form = new FormGroup({\n      'DateFrom': this.dateFrom,\n      'DateTo': this.dateTo,\n      'Substitute': this.substituteId,\n      'Holder': this.holderId,\n      'Remarks': this.remarks\n    });\n\n    this.clientErrorMessage$ = this.form.valueChanges.pipe(\n      startWith(null),\n      //map(v => this.getAllFormControlErrors()),\n      map(v => [])\n    );\n\n    this.errorMessage$ = combineLatest([this.serverErrorMessage$, this.clientErrorMessage$]).pipe(\n      map(v => (v[0] ?? []).concat(v[1] ?? [])),\n      map(v => v.length == 0 ? null : v)\n    );\n  }\n\n  private getAllFormControlErrors():Array<string> {\n    return Object.entries(this.form.controls).flatMap(\n      ([fieldName, control]) => Object.entries(control.errors ?? {}).filter(([key, value]) => value).map(([key, value]) => key).map(\n        (error) => `${this.translate([\"substitution-model\", fieldName])}: ${this.translate(['global', 'validation-errors', error])}`\n      )\n    )\n  }\n\n  getFormControlErrors(fieldName:string):Array<string> {\n    let control = this.form.get(fieldName);\n    if (control == null) return [];\n\n    return Object.entries(control.errors ?? {}).filter(([key, value]) => value).map(([key, value]) => key).map(\n        (error) => `${this.translate(['global', 'validation-errors', error])}`\n    );\n  }\n\n  private translate(path:string[]):string {\n    return this.translateService.instant(path.join('.'));\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['substitution'] && this.substitution != null) {\n      this.dateFrom.setValue(this.substitution.DateFrom);\n      this.dateTo.setValue(this.substitution.DateTo);\n      this.holderId.setValue(this.substitution.HolderId);\n      this.substituteId.setValue(this.substitution.SubstituteId);\n    }\n  }\n}\n","<form (ngSubmit)=\"submit()\">\n    <div class=\"bootstrap container-fluid\">\n        <!--\n        <div class=\"row\">\n            <div class=\"col\">\n                <h3>{{substitution?.Substitute ?? 'Title'}}</h3>\n            </div>\n        </div>\n        -->\n        <div class=\"bootstrap row\">\n            <div class=\"bootstrap form-group col\">\n                <label>{{'substitution-create.field-substitute-label' | translate}}</label>\n                <erz-typeahead\n                    [placeholder]=\"'substitution-create.field-substitute-placeholder' | translate\"\n                    [typeaheadService]=\"teacherSubstitutionService.typeaheadService\"\n                    (valueChange)=\"substituteId.setValue($event)\"\n                    [error]=\"showErrors && substituteId.errors\"\n                ></erz-typeahead>\n                <div *ngIf=\"showErrors && substituteId.errors\" class=\"invalid-feedback\">\n                    {{getFormControlErrors('Substitute')}}\n                </div>\n            </div>\n        </div>\n\n        <div class=\"bootstrap row\" *ngIf=\"holderIdInput == null\">\n            <div class=\"bootstrap form-group col\">\n                <label>{{'substitution-create.field-holder-label' | translate}}</label>\n                <erz-typeahead\n                    [placeholder]=\"'substitution-create.field-holder-placeholder' | translate\"\n                    [typeaheadService]=\"teacherSubstitutionService.typeaheadService\"\n                    (valueChange)=\"holderId.setValue($event)\"\n                    [error]=\"showErrors && holderId.errors\"\n                ></erz-typeahead>\n                <div *ngIf=\"showErrors && holderId.errors\" class=\"invalid-feedback\">\n                    {{getFormControlErrors('Holder')}}\n                </div>\n            </div>\n        </div>\n        \n        <div class=\"bootstrap row\">\n            <div class=\"bootstrap form-group col-md-6\" [class.has-errors]=\"showErrors && dateFrom.errors\">\n                <label>{{'substitution-create.field-date-from-label' | translate}}</label>\n                <erz-date-select \n                    [placeholder]=\"'substitution-create.field-date-from-placeholder' | translate\" \n                    [value]=\"dateFrom.value\" (valueChange)=\"dateFrom.setValue($event)\" \n                    [error]=\"showErrors && dateFrom.errors\"\n                    [minDate]=\"minStartDate\"\n                ></erz-date-select>\n                <div *ngIf=\"showErrors && dateFrom.errors\" class=\"invalid-feedback\">\n                    {{getFormControlErrors('DateFrom')}}\n                </div>\n            </div>\n            <div class=\"bootstrap form-group col-md-6\" [class.has-errors]=\"showErrors && dateFrom.errors\">\n                <label>{{'substitution-create.field-date-to-label' | translate}}</label>\n                <erz-date-select [placeholder]=\"'substitution-create.field-date-to-placeholder' | translate\" [value]=\"dateTo.value\" (valueChange)=\"dateTo.setValue($event)\" [error]=\"showErrors && dateTo.errors\"></erz-date-select>\n                <div *ngIf=\"showErrors && dateTo.errors\" class=\"invalid-feedback\">\n                    {{getFormControlErrors('DateTo')}}\n                </div>\n            </div>\n        </div>\n        <div class=\"bootstrap row\">\n            <div class=\"bootstrap col mt-2\" [class.has-errors]=\"showErrors && remarks.errors\">\n                <!--<label>{{'substitution-create.field-remarks-label' | translate}}</label>-->\n                <div class=\"d-flex flex-row\">\n                    <div class=\"me-2\">\n                        <i class=\"material-icons\">notes</i>\n                    </div>\n                    <textarea \n                        class=\"form-control\" \n                        [placeholder]=\"'substitution-create.field-remarks-placeholder' | translate\" \n                        [value]=\"remarks.value\" \n                        (input)=\"remarks.setValue($event.target.value)\"\n                        maxlength=\"512\"\n                    ></textarea>\n                </div>\n            </div>\n        </div>\n        <div class=\"bootstrap row\" *ngIf=\"showErrors\">\n            <div class=\"bootstrap col mt-1\">\n                <div *ngIf=\"(errorMessage$ | async) as errorMessages\" class=\"alert alert-danger mt-2\">\n                    <p *ngFor=\"let errorMessage of errorMessages\">{{errorMessage}}</p>\n                </div>\n            </div>\n        </div>\n        <div class=\"bootstrap row\">\n            <div class=\"bootstrap col mt-3\">\n                <div class=\"d-flex flex-row\">\n                    <button class=\"btn btn-secondary ms-auto text-light\" type=\"button\" (click)=\"cancel()\">{{'substitution-create.cancel-button-label' | translate}}</button>\n                    <button class=\"btn btn-primary ms-1 d-flex align-items-center\" type=\"submit\">\n                        <span *ngIf=\"savingActive$ | async\" class=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n                        {{'substitution-create.save-button-label' | translate}}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>\n","import { Component, OnInit, Input, Output, OnChanges, SimpleChanges, EventEmitter, OnDestroy, ChangeDetectorRef } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { BehaviorSubject, combineLatest, Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { TeacherSubstitution } from 'src/app/shared/models/teacher-substitution.model';\nimport { TeacherSubstitutionService } from 'src/app/shared/services/teacher-substitution.service';\n\n@Component({\n  selector: 'erz-substitution-edit',\n  templateUrl: './substitution-edit.component.html',\n  styleUrls: ['./substitution-edit.component.scss']\n})\nexport class SubstitutionEditComponent implements OnInit, OnChanges, OnDestroy {\n\n  settings: any;\n  @Input() substitution:Option<TeacherSubstitution>;\n  @Input('show-holder') showHolder:boolean = false;\n  @Output('cancel') cancelled = new EventEmitter<void>();\n  @Output('save') saved = new EventEmitter<void>();\n  @Output('delete') deleted = new EventEmitter<void>();\n\n  id = new FormControl();\n  dateFrom = new FormControl(null, Validators.required);\n  dateTo = new FormControl(null, Validators.required);\n  remarks = new FormControl();\n  errorMessage$ = new Observable<Option<ReadonlyArray<string>>>();\n  serverErrorMessage$ = new BehaviorSubject<Option<ReadonlyArray<string>>>(null);\n  clientErrorMessage$:Observable<Option<ReadonlyArray<string>>>;\n\n  form:FormGroup;\n  showErrors:boolean = false;\n\n  savingActive$:BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n  deletingActive$:BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  minStartDate:Date = new Date(Date.now());\n\n  constructor(\n    public teacherSubstitutionService: TeacherSubstitutionService,\n    private translateService: TranslateService,\n    public modalService: NgbModal,\n    public changeDetector: ChangeDetectorRef,\n    private toastr: ToastrService\n  ) {\n    this.saved.subscribe(() => toastr.success(translateService.instant(\"substitution-edit.save-success-message\")));\n    this.deleted.subscribe(() => toastr.success(translateService.instant(\"substitution-edit.delete-success-message\")));\n  }\n\n  submit():void {\n    if (!this.form.valid) {\n      this.showErrors = true;\n      return;\n    }\n\n    this.savingActive$.next(true);\n\n    this.teacherSubstitutionService.edit(this.id.value, this.dateFrom.value, this.dateTo.value, this.remarks.value).subscribe(\n      v => {\n        this.savingActive$.next(false);\n        this.saved.emit();\n      }, \n      err => {\n        this.savingActive$.next(false);\n\n        this.serverErrorMessage$.next(err.Issues.map((v:any) => v.Message as string));\n      }\n    );\n  }\n\n  delete():void {\n    this.deletingActive$.next(true);\n    this.teacherSubstitutionService.delete(this.id.value).subscribe(\n      v => {\n        this.deletingActive$.next(false);\n        this.deleted.emit();\n      },\n      err => { \n        this.serverErrorMessage$.next(err.Issues.map((v:any) => v.Message as string));\n      }\n    );\n  }\n\n  cancel():void {\n    this.cancelled.emit();\n  }\n\n  ngOnInit(): void {\n    this.form = new FormGroup({\n      'DateFrom': this.dateFrom,\n      'DateTo': this.dateTo,\n      'Remarks': this.remarks\n    });\n\n    this.clientErrorMessage$ = this.form.statusChanges.pipe(\n      //map(v => this.getAllFormControlErrors())\n      map(v => [])\n    );\n\n    this.errorMessage$ = combineLatest([this.serverErrorMessage$, this.clientErrorMessage$]).pipe(\n      map(v => (v[0] ?? []).concat(v[1] ?? [])),\n      map(v => v.length == 0 ? null : v)\n    );\n  }\n\n  private getAllFormControlErrors():Array<string> {\n    return Object.entries(this.form.controls).flatMap(\n      ([fieldName, control]) => Object.entries(control.errors ?? {}).filter(([key, value]) => value).map(([key, value]) => key).map(\n        (error) => `${this.translate([\"substitution-model\", fieldName])}: ${this.translate(['global', 'validation-errors', error])}`\n      )\n    )\n  }\n\n  getFormControlErrors(fieldName:string):Array<string> {\n    let control = this.form.get(fieldName);\n    if (control == null) return [];\n\n    return Object.entries(control.errors ?? {}).filter(([key, value]) => value).map(([key, value]) => key).map(\n        (error) => `${this.translate(['global', 'validation-errors', error])}`\n    );\n  }\n\n  translate(path:string[]):string {\n    return this.translateService.instant(path.join('.'));\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['substitution'] && this.substitution != null) {\n      this.id.setValue(this.substitution.Id);\n      this.dateFrom.setValue(this.substitution.DateFrom);\n      this.dateTo.setValue(this.substitution.DateTo);\n      this.remarks.setValue(this.substitution.Remarks);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.modalService.dismissAll();\n  }\n}\n","<ng-template #deleteModal let-modal>\n    <div class=\"modal-body\">\n        {{'substitution-edit.confirm-delete-message' | translate}}\n    </div>\n    <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary btn-min-width\" (click)=\"modal.dismiss()\">{{'substitution-edit.confirm-delete-cancel-button-label' | translate}}</button>\n        <button type=\"button\" class=\"btn btn-primary btn-min-width d-flex align-items-center\" (click)=\"delete()\">\n            <span *ngIf=\"deletingActive$ | async\" class=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n            {{'substitution-edit.confirm-delete-confirm-button-label' | translate}}\n        </button>\n    </div>\n</ng-template>\n\n<form (ngSubmit)=\"submit()\">\n    <div class=\"bootstrap container-fluid\">\n        <div class=\"bootstrap row\">\n            <div class=\"bootstrap col\">\n                <div class=\"d-flex flex-row\">\n                    <div *ngIf=\"showHolder\">\n                        <h5 class=\"fw-bold\">\n                            {{substitution?.Substitute ?? 'Title'}}\n                            <div class=\"sub-heading\">{{'substitution-edit.title-holder-prefix' | translate}} {{substitution?.Holder ?? 'Holder'}}</div>\n                        </h5>\n                    </div>\n                    <div *ngIf=\"!showHolder\">\n                        <h5 class=\"fw-bold\">{{substitution?.Substitute ?? 'Title'}}</h5>\n                    </div>\n                    <div class=\"ms-auto\">\n                        <button class=\"btn btn-primary\" type=\"button\" (click)=\"modalService.open(deleteModal)\"><i class=\"material-icons\">delete</i></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"bootstrap row\">\n            <div class=\"bootstrap form-group col-md-6\" [class.has-errors]=\"showErrors && dateFrom.errors\">\n                <label>{{'substitution-edit.field-date-from-label' | translate}}</label>\n                <erz-date-select \n                    [class.is-invalid]=\"showErrors && dateFrom.errors\" \n                    [placeholder]=\"'substitution-edit.field-date-from-placeholder' | translate\" \n                    [value]=\"dateFrom.value\" (valueChange)=\"dateFrom.setValue($event)\" \n                    [error]=\"showErrors && dateFrom.errors\"\n                    [minDate]=\"minStartDate\"\n                ></erz-date-select>\n                <div *ngIf=\"showErrors && dateFrom.errors\" class=\"invalid-feedback\">\n                    {{getFormControlErrors('DateFrom')}}\n                </div>\n            </div>\n            <div class=\"bootstrap form-group col-md-6\" [class.has-errors]=\"showErrors && dateTo.errors\">\n                <label>{{'substitution-edit.field-date-to-label' | translate}}</label>\n                <erz-date-select [class.is-invalid]=\"showErrors && dateTo.errors\" [placeholder]=\"'substitution-edit.field-date-to-placeholder' | translate\" [value]=\"dateTo.value\" (valueChange)=\"dateTo.setValue($event)\" [error]=\"showErrors && dateTo.errors\"></erz-date-select>\n                <div class=\"invalid-feedback\">\n                    {{getFormControlErrors('DateTo')}}\n                </div>\n            </div>\n        </div>\n        <div class=\"bootstrap row\">\n            <div class=\"bootstrap col mt-2\">\n                <!--<label>{{'substitution-edit.field-remarks-label' | translate}}</label>-->\n                <div class=\"d-flex flex-row\" [class.has-errors]=\"showErrors && remarks.errors\">\n                    <div class=\"me-2\">\n                        <i class=\"material-icons\">notes</i>\n                    </div>\n                    <textarea \n                        class=\"form-control\" \n                        [placeholder]=\"'substitution-edit.field-remarks-placeholder' | translate\" \n                        [value]=\"remarks.value\" \n                        (input)=\"remarks.setValue($event.target.value)\"\n                        maxlength=\"512\"\n                    ></textarea>\n                </div>\n            </div>\n        </div>\n        <div class=\"bootstrap row\">\n            <div class=\"col mt-2\">\n                <div *ngIf=\"(errorMessage$ | async) as errorMessages\" class=\"alert alert-danger mt-2\">\n                    <p *ngFor=\"let errorMessage of errorMessages\">{{errorMessage}}</p>\n                </div>\n            </div>\n        </div>\n        <div class=\"bootstrap row\">\n            <div class=\"bootstrap col mt-1\">\n                <div class=\"d-flex flex-row\">\n                    <button class=\"btn btn-secondary ms-auto text-light\" type=\"button\" (click)=\"cancel()\">{{'substitution-edit.cancel-button-label' | translate}}</button>\n                    <button class=\"btn btn-primary ms-1 d-flex align-items-center\" type=\"submit\"\n                        ><span *ngIf=\"savingActive$ | async\" class=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n                        {{'substitution-edit.save-button-label' | translate}}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>\n","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\nimport { BehaviorSubject, Observable, combineLatest } from 'rxjs';\nimport { mergeMap, repeatWhen, share, switchMap, tap, map, filter } from 'rxjs/operators';\nimport { TeacherSubstitution } from 'src/app/shared/models/teacher-substitution.model';\nimport { TeacherSubstitutionService } from 'src/app/shared/services/teacher-substitution.service';\nimport { SubstitutionListComponent } from '../substitution-list/substitution-list.component';\n\n@Component({\n  selector: 'erz-substitution-list-admin',\n  templateUrl: './substitution-list-admin.component.html',\n  styleUrls: ['./substitution-list-admin.component.scss']\n})\nexport class SubstitutionListAdminComponent extends SubstitutionListComponent {\n}\n","<ng-template #tableHead let-column=\"column\">\n    <span (click)=\"sortBy(column.id)\" >\n        {{column.label}}\n        <span *ngIf=\"sortColumn == column.id\">\n            <span *ngIf=\"sortDirection\">↑</span>\n            <span *ngIf=\"!sortDirection\">↓</span>\n        </span>\n    </span> \n</ng-template>\n\n<div *ngIf=\"isLoading\" class=\"bootstrap container-fluid mt-2\">\n    <div class=\"bootstrap col\">\n        <erz-spinner></erz-spinner>\n    </div>\n</div>\n\n<div [style.display]=\"isLoading ? 'none' : null\" class=\"bootstrap container-fluid mt-2\">\n    <div class=\"bootstrap row row-bottom-divider\">\n        <div class=\"bootstrap col d-flex flex-row pb-2\">\n            <div class=\"w-100 d-flex align-items-start\">{{'substitution-list-admin.count-label' | translate}}{{totalCount$ | async}}</div>\n            <div class=\"w-auto ms-3\">\n                <a class=\"btn btn-primary\" [routerLink]=\"['create']\"><i class=\"material-icons\">add</i></a>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"bootstrap row\">\n        <div class=\"bootstrap col d-flex flex-row mt-3 mb-3 \">\n            <div class=\"w-100\">\n                <div class=\"search-container\">\n                    <div class=\"input-group\">\n                        <span class=\"input-group-text\">\n                        <i class=\"material-icons\">search</i>\n                        </span>\n                        <input\n                            [placeholder]=\"'substitution-list-admin.search-placeholder' | translate\"\n                            type=\"text\"\n                            class=\"form-control\"\n                            [ngModel]=\"filter\"\n                            (ngModelChange)=\"filter = $event\"\n                        />\n                        <button\n                            *ngIf=\"filter\"\n                            class=\"btn btn-link text-decoration-none clear\"\n                            type=\"button\"\n                            (click)=\"filter = ''\"\n                        >\n                            <i class=\"material-icons\">clear</i>\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"w-auto ms-3 d-block d-md-none\">\n                <div class=\"dropdown\">\n                    <button class=\"btn btn-light\" type=\"button\" id=\"dropdownMenuButton\" data-bs-toggle=\"dropdown\">\n                        <i class=\"material-icons\">import_export</i>\n                    </button>\n                    <div class=\"dropdown-menu\">\n                    <a class=\"dropdown-item cursor-pointer\" [class.active]=\"sortColumn == 'Substitute'\" (click)=\"sortBy('Substitute')\"\n                        >{{'substitution-list-admin.column-title-substitute' | translate}}\n                    </a>\n                    <a class=\"dropdown-item cursor-pointer\" [class.active]=\"sortColumn == 'Holder'\"     (click)=\"sortBy('Holder')\"\n                        >{{'substitution-list.column-title-holder' | translate}}\n                    </a>\n                    <a class=\"dropdown-item cursor-pointer\" [class.active]=\"sortColumn == 'DateFrom'\"   (click)=\"sortBy('DateFrom')\"\n                        >{{'substitution-list-admin.column-title-date-range' | translate}}\n                    </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"bootstrap row\">\n        <div class=\"bootstrap col\">\n            <table class=\"table\">\n                <thead>\n                    <tr>\n                        <th class=\"column-substitute ps-0\">\n                            <ng-template *ngTemplateOutlet=\"tableHead; context: {column : {id: 'Substitute', label: 'substitution-list-admin.column-title-substitute' | translate, sortColumn, sortDirection}} \"></ng-template>\n                        </th>\n                        <th class=\"column-holder\">\n                            <ng-template *ngTemplateOutlet=\"tableHead; context: {column : {id: 'Holder', label: 'substitution-list.column-title-holder' | translate, sortColumn, sortDirection}} \"></ng-template>\n                        </th>\n                        <th class=\"column-date-range\">\n                            <ng-template *ngTemplateOutlet=\"tableHead; context: {column : {id: 'DateFrom', label: 'substitution-list-admin.column-title-date-range' | translate, sortColumn, sortDirection}} \"></ng-template>\n                        </th>\n                        <th class=\"column-remarks\">\n                            <ng-template *ngTemplateOutlet=\"tableHead; context: {column : {id: 'Remarks', label: 'substitution-list-admin.column-title-remarks' | translate, sortColumn, sortDirection}} \"></ng-template>\n                        </th>\n                        <th class=\"column-actions\"></th>\n                    </tr>\n                </thead>\n                <tbody infiniteScroll (scrolled)=\"onScroll()\">\n                    <tr *ngFor=\"let substitution of substitutions$ | async\">\n                        <td class=\"column-substitute ps-0\">\n                            {{substitution.Substitute}}\n                        </td>\n                        <td class=\"column-holder\">\n                            <span class=\"d-md-none\">{{'substitution-list-admin.substitution-holder-prefix' | translate}}</span>{{substitution.Holder}}\n                        </td>\n                        <td class=\"column-date-range\">\n                            {{substitution.DateFrom | date}}–<wbr>{{substitution.DateTo | date}}\n                        </td>\n                        <td class=\"column-remarks\">\n                            <div class=\"d-flex flex-row d-md-block\" *ngIf=\"substitution.Remarks\">\n                                <i class=\"material-icons d-md-none me-1\">notes</i>\n                                <div>{{substitution.Remarks}}</div>\n                            </div>\n                        </td>\n                        <td class=\"column-actions text-end pe-0\">\n                            <a class=\"btn btn-primary\" [routerLink]=\"['edit', substitution.Id]\"><i class=\"material-icons\">edit</i></a>\n                            <!--<a class=\"btn btn-danger\" (click)=\"deleteSubstitution(substitution.Id)\"><i class=\"material-icons\">delete</i></a>-->\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { BehaviorSubject, Observable, combineLatest } from 'rxjs';\nimport { map, mergeMap, repeatWhen, switchMap, tap } from 'rxjs/operators';\nimport { TeacherSubstitution } from 'src/app/shared/models/teacher-substitution.model';\nimport { AuthService } from 'src/app/shared/services/auth.service';\nimport { TeacherSubstitutionService } from 'src/app/shared/services/teacher-substitution.service';\n\n@Component({\n  selector: 'erz-substitution-list-current',\n  templateUrl: './substitution-list-current.component.html',\n  styleUrls: ['./substitution-list-current.component.scss']\n})\nexport class SubstitutionListCurrentComponent implements OnInit {\n\n  settings: any;\n  constructor(\n    public teacherSubstitutionService: TeacherSubstitutionService,\n    public changeDetector: ChangeDetectorRef,\n    public authService: AuthService\n  ) { }\n\n  isLoading:Boolean = true;\n  currentSubstitutionId:Option<number> = null; \n  update$:BehaviorSubject<Date> = new BehaviorSubject<Date>(new Date());\n  substitutions$:Observable<ReadonlyArray<{substitution:TeacherSubstitution,isActive:boolean}>>;\n  workingId$:BehaviorSubject<number> = new BehaviorSubject<number>(-1);\n\n  ngOnInit(): void {\n    const compare = (a:any, b:any) => a == b ? 0 : (a ?? \"\") > (b ?? \"\") ? -1 : 1;\n    const compareColumns = (a:any, b:any, selectors:[selector:((v:any)=>any),ascending:boolean][]) => {\n      for (let [selector, ascending] of selectors) {\n        let sort = compare(selector(a), selector(b));\n        if (ascending) sort *= -1;\n        if (sort != 0) {\n          return sort;\n        }\n      }\n      return 0;\n    }\n    const createCompareColumnsFunc = (selectors:[selector:(v:any)=>any, ascending:boolean][]) => (a:any, b:any) => compareColumns(a, b, selectors);\n\n    //this.currentSubstitutionId = this.authService.substitutionId;\n    this.substitutions$ = this.authService.substitutionId$.pipe(\n      tap(v => this.currentSubstitutionId = v),\n      switchMap(v => this.teacherSubstitutionService.getCurrentList()),\n      map(v => Array.from(v).sort(createCompareColumnsFunc([[(w:TeacherSubstitution) => this.currentSubstitutionId == w.Id, false], [(w:TeacherSubstitution) => w.DateFrom, true]]))),\n      map(v => v.map(w => {return {substitution: w, isActive: w.DateFrom < new Date()}})),\n      tap(v => {\n        //this.currentSubstitutionId = v[0].substitution.Id;\n        //v[0].isActive = true;\n        \n        this.isLoading = false;\n        this.changeDetector.markForCheck();\n      })\n    );\n  }\n\n  startSubstitution(substitutionId:number) {\n    this.workingId$.next(substitutionId);\n    this.teacherSubstitutionService.start(substitutionId).subscribe(v => {\n      this.currentSubstitutionId = substitutionId;\n      this.changeDetector.markForCheck();\n      this.update$.next(new Date());\n      this.workingId$.next(-1);\n    });\n  }\n\n  stopSubstitution(substitutionId:number) {\n    this.workingId$.next(substitutionId);\n    this.teacherSubstitutionService.stop(substitutionId).subscribe(v => {\n      this.currentSubstitutionId = null;\n      this.changeDetector.markForCheck();\n      this.update$.next(new Date());\n      this.workingId$.next(-1);\n    });\n  }\n}\n","<div class=\"bootstrap container-fluid mt-2\">\n    <div class=\"bootstrap row row-bottom-divider pb-2\">\n        <div class=\"bootstrap col\">\n            <span *ngIf=\"currentSubstitutionId == null\">{{'execute-substitution-list.substitution-inactive-title-message' | translate}}</span>\n            <span *ngIf=\"currentSubstitutionId != null\">{{'execute-substitution-list.substitution-active-title-message' | translate}}</span>\n        </div>\n    </div>\n    <div *ngIf=\"isLoading\">\n        <erz-spinner></erz-spinner>\n    </div>\n    <div class=\"bootstrap row\">\n        <div class=\"bootstrap col\" *ngIf=\"substitutions$ | async as substitutions\">\n            <ng-template #empty>\n                <div class=\"pt-2\">{{'execute-substitution-list.empty-list-message' | translate}}</div>\n            </ng-template>\n\n            <table *ngIf=\"substitutions.length > 0; else empty\" class=\"table\" [style.display]=\"isLoading ? 'none' : null\">\n                <thead>\n                    <tr>\n                        <th class=\"substitution-holder\">{{'execute-substitution-list.column-title-holder' | translate}}</th>\n                        <th class=\"substitution-date-range\">{{'execute-substitution-list.column-title-date-range' | translate}}</th>\n                        <th class=\"substitution-remarks\">{{'execute-substitution-list.column-title-remarks' | translate}}</th>\n                        <th class=\"substitution-actions\"></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr *ngFor=\"let item of substitutions\">\n                        <td class=\"substitution-holder\">\n                            <span class=\"d-md-none\">{{'execute-substitution-list.substitution-holder-prefix' | translate}}</span>{{item.substitution.Holder}}\n                        </td>\n                        <td class=\"substitution-date-range\">\n                            {{item.substitution.DateFrom | date}}–<wbr>{{item.substitution.DateTo | date}}\n                        </td>\n                        <td class=\"substitution-remarks\">\n                            <div class=\"d-flex flex-row d-md-block\" *ngIf=\"item.substitution.Remarks\">\n                                <i class=\"material-icons d-md-none me-1\">notes</i>\n                                <div>{{item.substitution.Remarks}}</div>\n                            </div>\n                        </td>\n                        <td class=\"substitution-actions text-md-end text-start\">\n                            <a \n                                class=\"btn btn-primary d-md-inline-block\" \n                                (click)=\"startSubstitution(item.substitution.Id)\" \n                                *ngIf=\"currentSubstitutionId != item.substitution.Id\"\n                                [class.invisible]=\"!item.isActive\"\n                                [class.d-none]=\"!item.isActive\"\n                            >\n                                <span class=\"d-flex align-items-center\">\n                                    <span *ngIf=\"(workingId$ | async) == item.substitution.Id\" class=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n                                    {{'execute-substitution-list.start-button-label' | translate}}\n                                </span>\n                            </a>\n                            <span *ngIf=\"currentSubstitutionId == item.substitution.Id\" class=\"active-label text-success me-3\">{{'execute-substitution-list.active-label' | translate}}</span>\n                            <a \n                                *ngIf=\"currentSubstitutionId == item.substitution.Id\" \n                                class=\"btn btn-primary d-md-inline-block\" \n                                (click)=\"stopSubstitution(item.substitution.Id)\"\n                                [class.invisible]=\"!item.isActive\"\n                                [class.d-none]=\"!item.isActive\"\n                            >\n                                <span class=\"d-flex align-items-center\">\n                                    <span *ngIf=\"(workingId$ | async) == item.substitution.Id\" class=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n                                    {{'execute-substitution-list.stop-button-label' | translate}}\n                                </span>\n                            </a>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\nimport { BehaviorSubject, Observable, combineLatest } from 'rxjs';\nimport { mergeMap, repeatWhen, share, switchMap, tap, map, filter, count, delay } from 'rxjs/operators';\nimport { TeacherSubstitution } from 'src/app/shared/models/teacher-substitution.model';\nimport { TeacherSubstitutionService } from 'src/app/shared/services/teacher-substitution.service';\n\nconst INITIAL_PAGE_SIZE = 50;\n\n@Component({\n  selector: 'erz-substitution-list',\n  templateUrl: './substitution-list.component.html',\n  styleUrls: ['./substitution-list.component.scss']\n})\nexport class SubstitutionListComponent implements OnInit {\n\n  settings: any;\n  constructor(\n    public teacherSubstitutionService: TeacherSubstitutionService,\n    public changeDetector: ChangeDetectorRef\n  ) { }\n\n  @Input('empty-message')\n  emptyMessage:string = \"\";\n\n  @Input('sort-column')\n  get sortColumn():string { return this.sortColumn$.value ?? \"\"; }\n  set sortColumn(v:string) {\n    this.sortColumn$.next(v);\n  }\n  @Input('sort-direction')\n  get sortDirection():boolean { return this.sortDirection$.value; }\n  set sortDirection(v:boolean) {\n    this.sortDirection$.next(v);\n  }\n\n  sortColumn$:BehaviorSubject<Option<string>> = new BehaviorSubject<Option<string>>(null);\n  sortDirection$:BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  @Input('filter')\n  get filter():string { return this.filter$.value; }\n  set filter(v:string) { this.filter$.next(v ?? \"\"); }\n  filter$:BehaviorSubject<string> = new BehaviorSubject<string>(\"\");\n\n  @Input('show-holder') showHolder:Boolean = false;\n  @Input('edit-link') editLinkFunc:Option<(a:string)=>string[]> = v => ['edit', v];\n  //@Input('substitutions$') substitutionsInput$:Observable<ReadonlyArray<TeacherSubstitution>>;\n\n  @Input('substitutions$')\n  substitutionsInput$:Option<Observable<ReadonlyArray<TeacherSubstitution>>>;\n  //get substitutions():Option<ReadonlyArray<TeacherSubstitution>> { return this.substitutionsInput$.value; }\n  //set substitutions(v:Option<ReadonlyArray<TeacherSubstitution>>) { this.substitutionsInput$.next(v); this.update$.next(new Date()); }\n  //useSubstitutionsInput$:BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  isLoading:Boolean = true;\n  isEmpty:Boolean = false;\n  update$:BehaviorSubject<Date> = new BehaviorSubject<Date>(new Date());\n  substitutions$:Observable<ReadonlyArray<TeacherSubstitution>>;\n  listSize$:BehaviorSubject<number> = new BehaviorSubject<number>(INITIAL_PAGE_SIZE);\n  totalCount$:BehaviorSubject<number> = new BehaviorSubject<number>(0);\n\n  ngOnInit(): void {\n    this.substitutions$ = combineLatest([\n        this.listSize$,\n        this.update$.pipe(\n          delay(1000),\n          switchMap(\n            v => this.substitutionsInput$ ?? this.teacherSubstitutionService.getMyList()\n          ),\n          share(),\n        ),\n        this.filter$.pipe(\n          tap(() => this.listSize$.next(INITIAL_PAGE_SIZE)),\n          map(v => v.toLowerCase())\n        ),\n        this.sortColumn$,\n        this.sortDirection$\n    ]).pipe(\n      map(v => {\n        let [listSize, items, filter, sortColumn, sortDirection] = v;\n\n        const compare = (a:any, b:any) => a == b ? 0 : (a ?? \"\") > (b ?? \"\") ? -1 : 1;\n        const compareColumns = (a:any, b:any, columns:string[]) => {\n          for (let column of columns) {\n            let sort = compare(a[column], b[column]);\n            if (sort != 0) {\n              return sort;\n            }\n          }\n          return 0;\n        }\n        const createCompareColumnsFunc = (columns:string[]) => (a:any, b:any) => compareColumns(a, b, columns);\n\n        if (sortColumn == null) {\n          items = Array.from(items).sort(createCompareColumnsFunc(['DateFrom', 'Substitute'])).reverse();\n        } else {\n          let col = sortColumn;\n\n          let itemArray = Array.from(items).sort(createCompareColumnsFunc([col, 'DateFrom', 'Substitute']));\n          if (sortDirection) {\n            items = itemArray.reverse();\n          } else {\n            items = itemArray;\n          }\n        }\n\n        this.totalCount$.next(items.length);\n\n        return {\n          listSize, \n          items, \n          filter\n         } as const\n      }),\n      map(({listSize, items, filter}) => [listSize, items.filter(w => filter == \"\" || w.Holder.toLowerCase().includes(filter) || w.Substitute.toLowerCase().includes(filter))] as const),\n      map(v => v[1].slice(0, v[0])),\n      tap(v => {\n        this.isLoading = false;\n        this.isEmpty = v.length == 0;\n        this.changeDetector.markForCheck();\n      }),\n    );\n\n  }\n\n  sortBy(column:string): void {\n    if (this.sortColumn == column) {\n      this.sortDirection = !this.sortDirection;\n    } else {\n      this.sortColumn = column;\n      this.sortDirection = true;\n    }\n    this.changeDetector.markForCheck();\n  }\n\n  onScroll(): void {\n    this.listSize$.next(this.listSize$.value + 10);\n  }\n\n  deleteSubstitution(substitutionId:number) {\n    this.teacherSubstitutionService.delete(substitutionId).subscribe(v => {\n      this.update$.next(new Date());\n    });\n  }\n}\n","<div class=\"bootstrap container-fluid mt-xs-0 mt-md-2\">\n    <div *ngIf=\"isLoading\" class=\"mt-2\">\n        <erz-spinner></erz-spinner>\n    </div>\n    <div class=\"bootstrap row\" [style.display]=\"isLoading ? 'none' : null\">\n        <div *ngIf=\"isEmpty\" class=\"bootstrap col\">\n            {{emptyMessage}}\n        </div>\n        <div class=\"bootstrap col\" [style.display]=\"isEmpty ? 'none' : null\">\n            <table class=\"table\">\n                <thead>\n                    <tr>\n                        <th class=\"column-substitute ps-0\">{{'substitution-list.column-title-substitute' | translate}}</th>\n                        <th class=\"column-date-range\">{{'substitution-list.column-title-date-range' | translate}}</th>\n                        <th class=\"column-remarks\">{{'substitution-list.column-title-remarks' | translate}}</th>\n                        <th class=\"column-actions\"></th>\n                    </tr>\n                </thead>\n                <tbody infiniteScroll (scrolled)=\"onScroll()\">\n                    <tr *ngFor=\"let substitution of substitutions$ | async\">\n                        <td class=\"column-substitute ps-0\">\n                            {{substitution.Substitute}}\n                        </td>\n                        <td class=\"column-date-range\">\n                            {{substitution.DateFrom | date}}–<wbr>{{substitution.DateTo | date}}\n                        </td>\n                        <td class=\"column-remarks\">\n                            <div class=\"d-flex flex-row d-md-block\" *ngIf=\"substitution.Remarks\">\n                                <i class=\"material-icons d-md-none me-1\">notes</i>\n                                <div>{{substitution.Remarks}}</div>\n                            </div>\n                        </td>\n                        <td class=\"column-actions text-end pe-0\">\n                            <a class=\"btn btn-primary\" [routerLink]=\"['edit', substitution.Id]\"><i class=\"material-icons\">edit</i></a>\n                            <!--<a class=\"btn btn-danger\" (click)=\"deleteSubstitution(substitution.Id)\"><i class=\"material-icons\">delete</i></a>-->\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AuthAdminGuard } from '../auth.admin.guard';\nimport { AuthGuard } from '../auth.guard';\nimport { PageAdminSubstitutionCreateComponent } from './components/page-admin-substitution-create/page-admin-substitution-create.component';\nimport { PageAdminSubstitutionEditComponent } from './components/page-admin-substitution-edit/page-admin-substitution-edit.component';\nimport { PageAdminSubstitutionListComponent } from './components/page-admin-substitution-list/page-admin-substitution-list.component';\nimport { PageSubstitutionCreateComponent } from './components/page-substitution-create/page-substitution-create.component';\nimport { PageSubstitutionEditComponent } from './components/page-substitution-edit/page-substitution-edit.component';\nimport { PageSubstitutionListCurrentComponent } from './components/page-substitution-list-current/page-substitution-list-current.component';\nimport { PageSubstitutionListComponent } from './components/page-substitution-list/page-substitution-list.component';\nimport { SubstitutionListComponent } from './components/substitution-list/substitution-list.component';\n\nconst routes: Routes = [\n  {\n    path: 'assign',\n    canActivate: [AuthGuard],\n    component: PageSubstitutionListComponent,\n  },\n  {\n    path: 'assign/edit/:id',\n    canActivate: [AuthGuard],\n    component: PageSubstitutionEditComponent\n  },\n  {\n    path: 'assign/create',\n    canActivate: [AuthGuard],\n    component: PageSubstitutionCreateComponent\n  },\n  {\n    path: 'admin/create',\n    canActivate: [AuthAdminGuard],\n    component: PageAdminSubstitutionCreateComponent\n  },\n  {\n    path: 'admin/edit/:id',\n    canActivate: [AuthAdminGuard],\n    component: PageAdminSubstitutionEditComponent\n  },\n  {\n    path: 'admin',\n    canActivate: [AuthAdminGuard],\n    component: PageAdminSubstitutionListComponent\n  },\n  {\n    path: 'execute',\n    canActivate: [AuthGuard],\n    component: PageSubstitutionListCurrentComponent\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SubstitutionsRoutingModule {}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SubstitutionListComponent } from './components/substitution-list/substitution-list.component';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { SubstitutionsRoutingModule } from './substitutions-routing';\r\nimport { SubstitutionEditComponent } from './components/substitution-edit/substitution-edit.component';\r\nimport { PageSubstitutionEditComponent } from './components/page-substitution-edit/page-substitution-edit.component';\r\nimport { SubstitutionCreateComponent } from './components/substitution-create/substitution-create.component';\r\nimport { PageSubstitutionCreateComponent } from './components/page-substitution-create/page-substitution-create.component';\r\nimport { SubstitutionListCurrentComponent } from './components/substitution-list-current/substitution-list-current.component';\r\nimport { PageSubstitutionListCurrentComponent } from './components/page-substitution-list-current/page-substitution-list-current.component';\r\nimport { PageAdminSubstitutionListComponent } from './components/page-admin-substitution-list/page-admin-substitution-list.component';\r\nimport { PageAdminSubstitutionCreateComponent } from './components/page-admin-substitution-create/page-admin-substitution-create.component';\r\nimport { PageSubstitutionListComponent } from './components/page-substitution-list/page-substitution-list.component';\r\nimport { PageAdminSubstitutionEditComponent } from './components/page-admin-substitution-edit/page-admin-substitution-edit.component';\r\nimport { SubstitutionListAdminComponent } from './components/substitution-list-admin/substitution-list-admin.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        SubstitutionListComponent,\r\n        SubstitutionListCurrentComponent,\r\n        SubstitutionListAdminComponent,\r\n        SubstitutionEditComponent,\r\n        SubstitutionCreateComponent,\r\n        PageSubstitutionEditComponent,\r\n        PageSubstitutionCreateComponent,\r\n        PageSubstitutionListCurrentComponent,\r\n        PageAdminSubstitutionListComponent,\r\n        PageAdminSubstitutionCreateComponent,\r\n        PageAdminSubstitutionEditComponent,\r\n        PageSubstitutionListComponent\r\n    ],\r\n    imports: [\r\n        SharedModule,\r\n        SubstitutionsRoutingModule,\r\n        CommonModule,\r\n    ]\r\n})\r\nexport class SubstitutionsModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}